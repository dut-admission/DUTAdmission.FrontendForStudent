<main class="profile-page">
    <section class="section-profile-cover section-shaped my-0">
        <!-- Circles background -->
        <div class="shape shape-style-1 shape-primary alpha-4">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
    </section>
    <section class="section" *ngIf="studentInfo">
        <div class="container">
            <div class="card card-profile shadow mt--300">
                <div class="px-4">
                    <div class="row justify-content-center" style="height: 150px;">
                        <div class="col-lg-3 order-lg-2">
                            <div class="card-profile-image">
                                <a href="javascript:void(0)">
                                    <img [src]="studentInfo.avatar" class="rounded-circle" alt="">
                                </a>
                            </div>
                        </div>
                        <div class="col-lg-4 order-lg-3 text-lg-right align-self-lg-center">
                        </div>
                        <div class="col-lg-4 order-lg-1">
                        </div>
                    </div>
                    <div class="text-center mt-8">
                        <h3>{{ studentInfo.lastName + ' ' + studentInfo.firstName }}
                        </h3>
                        <div class="h6 mt-4"><i class="ni business_briefcase-24 mr-2"></i>{{studentInfo.departmentName}}
                        </div>
                        <div><i class="ni education_hat mr-2"></i>{{studentInfo.programName}}</div>
                    </div>
                    <div class="row justify-content-center mt-5 py-3 border-top">
                        <form class="col" name="studentInfoForm" #studentInfoForm="ngForm"
                              (ngSubmit)="OnSubmitStudentForm(studentInfoForm)" novalidate>
                            <div class="pl-lg-0">
                                <div class="row">
                                    <div class="col">
                                        <div class="h3 text-center mb-3"> THÔNG TIN BẢN THÂN</div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="sex">Giới tính</label>
                                            <select id="sex" class="form-control"
                                                    name="sex" [(ngModel)]="studentInfo.sex">
                                                <option value="true">Nam</option>
                                                <option value="false">Nữ</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group" [ngClass]="{'focused':focus2===true}">
                                            <label class="form-control-label" for="dateOfBirth">Ngày sinh</label>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i
                                                            class="ni ni-calendar-grid-58"></i></span>
                                                </div>
                                                <input id="dateOfBirth" name="dateOfBirth"
                                                       class="form-control datepicker"
                                                       placeholder="DD/MM/YYYY"
                                                       ngbDatepicker [(ngModel)]="studentInfo.dateOfBirth"
                                                       #d1="ngbDatepicker" (click)="d1.toggle()"
                                                       (focus)="focus2=true" (blur)="focus2=false" type="text"
                                                       (select)="onDateSelection($event)" autocomplete="off"
                                                       [ngModelOptions]="{standalone: true}"
                                                       #dateOfBirth="ngModel"
                                                       [ngClass]="{ 'is-invalid': studentInfoForm.submitted && dateOfBirth.invalid }"
                                                       required/>
                                                <div *ngIf="studentInfoForm.submitted && dateOfBirth.invalid"
                                                     class="invalid-feedback">
                                                    <div *ngIf="dateOfBirth.errors.required">Ngày sinh là trường bắt
                                                        buộc.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                            <label class="form-control-label" for="placeOfBirth">Nơi sinh</label>
                                            <input type="text" id="placeOfBirth" name="placeOfBirth"
                                                   class="form-control"
                                                   placeholder="Xã/Phường, Huyện/Quận, Tỉnh/Thành phố"
                                                   [(ngModel)]="studentInfo.placeOfBirth"
                                                   #placeOfBirth="ngModel"
                                                   [ngClass]="{ 'is-invalid': studentInfoForm.submitted && placeOfBirth.invalid }"
                                                   required>
                                            <div *ngIf="studentInfoForm.submitted && placeOfBirth.invalid"
                                                 class="invalid-feedback">
                                                <div *ngIf="placeOfBirth.errors.required">Nơi sinh là trường bắt buộc.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="national-selection">Quốc tịch</label>
                                            <select class="form-control"
                                                    id="national-selection"
                                                    name="Nationality" [(ngModel)]="studentInfo.nationalityId">
                                                <option *ngFor="let nationality of library.nationalityList"
                                                        [value]="nationality.id">{{nationality.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="ethnicId">Dân tộc</label>
                                            <select class="form-control" id="ethnicId"
                                                    name="ethnicId"
                                                    [(ngModel)]="studentInfo.ethnicId">
                                                <option *ngFor="let ethnic of library.ethnicList"
                                                        [value]="ethnic.id">{{ethnic.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="religionId">Tôn giáo</label>
                                            <select class="form-control" id="religionId"
                                                    name="religionId"
                                                    [(ngModel)]="studentInfo.religionId">
                                                <option *ngFor="let item of library.religionList"
                                                        [value]="item.id">{{item.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="identitynumber">Số chứng minh nhân
                                                dân</label>
                                            <input type="text" id="identitynumber" name="identitynumber"
                                                   class="form-control"
                                                   placeholder="Số CMND" value="{{studentInfo.identityNumber}}"
                                                   disabled="disabled">
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="dateOfIssue">Ngày cấp</label>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i
                                                            class="ni ni-calendar-grid-58"></i></span>
                                                </div>
                                                <input class="form-control datepicker" placeholder="DD/MM/YYYY"
                                                       name="dateOfIssue"
                                                       id="dateOfIssue"
                                                       [(ngModel)]="studentInfo.dateOfIssue" ngbDatepicker
                                                       #d2="ngbDatepicker" (click)="d2.toggle()"
                                                       (focus)="focus2=true" (blur)="focus2=false" type="text"
                                                       (select)="onDateSelection($event)" autocomplete="off"
                                                       #dateOfIssue="ngModel"
                                                       [ngClass]="{ 'is-invalid': studentInfoForm.submitted && dateOfIssue.invalid }"
                                                       required/>
                                                <div *ngIf="studentInfoForm.submitted && dateOfIssue.invalid"
                                                     class="invalid-feedback">
                                                    <div *ngIf="dateOfIssue.errors.required">Ngày cấp CMND là trường bắt
                                                        buộc.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="placeOfIssue">Nơi cấp</label>
                                            <input type="text" id="placeOfIssue"
                                                   name="placeOfIssue"
                                                   class="form-control"
                                                   placeholder="Nơi cấp" [(ngModel)]="studentInfo.placeOfIssue"
                                                   #placeOfIssue="ngModel"
                                                   [ngClass]="{ 'is-invalid': studentInfoForm.submitted && placeOfIssue.invalid }"
                                                   required/>
                                            <div *ngIf="studentInfoForm.submitted && placeOfIssue.invalid"
                                                 class="invalid-feedback">
                                                <div *ngIf="placeOfIssue.errors.required">Nơi cấp CMND là trường bắt
                                                    buộc.
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                            <label class="form-control-label" for="permanentResidence">Hộ khẩu thường
                                                trú</label>
                                            <input id="permanentResidence" class="form-control"
                                                   placeholder="Xã/Phường, Huyện/Quận, Tỉnh/Thành phố"
                                                   name="permanentResidence"
                                                   type="text" [(ngModel)]="studentInfo.permanentResidence"
                                                   #permanentResidence="ngModel"
                                                   [ngClass]="{ 'is-invalid': studentInfoForm.submitted && permanentResidence.invalid }"
                                                   required/>
                                            <div *ngIf="studentInfoForm.submitted && permanentResidence.invalid"
                                                 class="invalid-feedback">
                                                <div *ngIf="permanentResidence.errors.required">Hộ khẩu thường trú là
                                                    trường bắt buộc.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                            <label class="form-control-label" for="address">Nơi ở hiện tại</label>
                                            <input id="address" class="form-control"
                                                   placeholder="Số nhà/Thôn, Xã/Phường, Huyện/Quận, Tỉnh/Thành phố"
                                                   name="address"
                                                   type="text" [(ngModel)]="studentInfo.address"
                                                   #address="ngModel"
                                                   [ngClass]="{ 'is-invalid': studentInfoForm.submitted && address.invalid }"
                                                   required/>
                                            <div *ngIf="studentInfoForm.submitted && address.invalid"
                                                 class="invalid-feedback">
                                                <div *ngIf="address.errors.required">Nơi ở hiện tại là trường bắt
                                                    buộc.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="phoneNumber">Số điện thoại</label>
                                            <input type="text" id="phoneNumber"
                                                   class="form-control"
                                                   placeholder="Số điện thoại" name="phoneNumber"
                                                   [(ngModel)]="studentInfo.phoneNumber"
                                                   #phoneNumber="ngModel"
                                                   [ngClass]="{ 'is-invalid': studentInfoForm.submitted && phoneNumber.invalid }"
                                                   required>
                                            <div *ngIf="studentInfoForm.submitted && phoneNumber.invalid"
                                                 class="invalid-feedback">
                                                <div *ngIf="phoneNumber.errors.required">Số điện thoại là trường bắt
                                                    buộc.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="email">Email</label>
                                            <input type="text" id="email" class="form-control"
                                                   placeholder="Email" [(ngModel)]="studentInfo.email" name="Email"
                                                   #email="ngModel"
                                                   [ngClass]="{ 'is-invalid': studentInfoForm.submitted && email.invalid }"
                                                   required email>
                                            <div *ngIf="studentInfoForm.submitted && email.invalid"
                                                 class="invalid-feedback">
                                                <div *ngIf="email.errors.required">Email là trường bắt buộc.</div>
                                                <div *ngIf="email.errors.email">Email không đúng định dạng.</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="highSchoolName">Tên trường
                                                THPT</label>
                                            <input type="text" id="highSchoolName"
                                                   class="form-control" name="highSchoolName"
                                                   placeholder="Tên trường THPT"
                                                   [(ngModel)]="studentInfo.highSchoolName">
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="circumstaneTypeId">Hoàn cảnh gia
                                                đình</label>
                                            <select class="form-control"
                                                    name="circumstaneTypeId"
                                                    id="circumstaneTypeId" [(ngModel)]="studentInfo.circumstanceTypeId">
                                                <option *ngFor="let item of library.circumstanceTypeList"
                                                        [value]="item.id">{{item.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row youth-info" *ngIf="studentInfo.isJoinYouthGroup">
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="dateOfJoiningYouthGroup">Ngày vào
                                                Đoàn</label>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i
                                                            class="ni ni-calendar-grid-58"></i></span>
                                                </div>
                                                <input class="form-control datepicker" placeholder="Select date"
                                                       name="dateOfJoiningYouthGroup" id="dateOfJoiningYouthGroup"
                                                       [(ngModel)]="studentInfo.dateOfJoiningYouthGroup"
                                                       ngbDatepicker #d3="ngbDatepicker" (click)="d3.toggle()"
                                                       (focus)="focus2=true" (blur)="focus2=false" type="text"
                                                       (select)="onDateSelection($event)" autocomplete="off"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="placeOfJoinYouthGroup">Nơi vào
                                                Đoàn</label>
                                            <input type="text" id="placeOfJoinYouthGroup"
                                                   class="form-control"
                                                   name="placeOfJoinYouthGroup"
                                                   placeholder="Tỉnh/Thành phố"
                                                   [(ngModel)]="studentInfo.placeOfJoinYouthGroup">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr class="my-4"/>
                            <div class="pl-lg-0">
                                <div class="row">
                                    <div class="col">
                                        <div class="h3 text-center mb-4">THÔNG TIN VỀ GIA ĐÌNH</div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="table-responsive">
                                            <table class="table align-items-center table-bordered table-hover">
                                                <thead class="thead-light">
                                                <tr>
                                                    <th scope="col" class="text-center">Quan hệ</th>
                                                    <th scope="col" class="text-center">Họ và tên</th>
                                                    <th scope="col" class="text-center">Năm sinh</th>
                                                    <th scope="col" class="text-center">Số điện thoại</th>
                                                    <th scope="col" class="text-center">Địa chỉ</th>
                                                    <th scope="col" class="text-center">
                                                        <button class="btn btn-primary btn-sm" type="button"
                                                                (click)="openModalForNewMember(newFamilyMember, null)">
                                                            Thêm mới
                                                        </button>
                                                    </th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr *ngFor="let member of studentInfo.familyMembers">
                                                    <td class="text-center font-weight-bold">{{member.relationName}}</td>
                                                    <td class="text-center">
                                                        <div class="media align-items-center">
                                                            <div class="media-body">
                                                                <span class="mb-0 text-sm">{{member.lastName + " " + member.firstName}}</span>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="text-center">
                                                        {{member.yearOfBirth}}
                                                    </td>
                                                    <td class="text-center">
                                                        {{member.phoneNumber}}
                                                    </td>
                                                    <td class="text-center">
                                                        {{member.address}}
                                                    </td>
                                                    <td class="text-center">
                                                        <div class="btn-group btn-group-sm">
                                                            <a class="btn btn-primary btn-icon btn-sm"
                                                               href="javascript:void(0)"
                                                               (click)="openModalForNewMember(newFamilyMember, member)">
                                                                    <span class="btn-inner--icon">
                                                                      <i class="fa fa-info-circle mr-2"></i>
                                                                    </span>
                                                                <span class="nav-link-inner--text">Sửa</span>
                                                            </a>
                                                            <a class="btn btn-danger btn-icon btn-sm"
                                                               href="javascript:void(0)"
                                                               (click)="deleteFamilyMember(member.id)">
                                                                    <span class="btn-inner--icon">
                                                                      <i class="fa ni-fat-delete mr-2"></i>
                                                                    </span>
                                                                <span class="nav-link-inner--text">Xóa</span>
                                                            </a>
                                                        </div>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <hr class="my-4"/>
                                <div class="row">
                                    <div class="col">
                                        <div class="h3 text-center mb-4">NĂNG KHIẾU VÀ THÀNH TỰU</div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="table-responsive">
                                            <table class="table align-items-center table-bordered table-hover">
                                                <thead class="thead-light">
                                                <tr>
                                                    <th scope="col" class="text-center">Kỳ thi</th>
                                                    <th scope="col" class="text-center">Cấp</th>
                                                    <th scope="col" class="text-center">Giải thưởng</th>
                                                    <th scope="col" class="text-center">Mô tả chi tiết</th>
                                                    <th scope="col" class="text-center">
                                                        <button class="btn btn-primary btn-sm" type="button"
                                                                (click)="openModalForNewAchievement(newAchievementModal, null)">
                                                            Thêm mới
                                                        </button>
                                                    </th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr *ngFor="let achievement of studentInfo.achievements">
                                                    <td class="text-center font-weight-bold">
                                                        {{achievement.achievementTypeName}}
                                                    </td>
                                                    <td class="text-center">
                                                        {{achievement.achievementLevelName}}
                                                    </td>
                                                    <td class="text-center">
                                                        {{achievement.achievementPrizeName}}
                                                    </td>
                                                    <td class="text-center">
                                                        {{achievement.description}}
                                                    </td>
                                                    <td class="text-center">
                                                        <div class="btn-group btn-group-sm">
                                                            <a class="btn btn-primary btn-icon btn-sm"
                                                               href="javascript:void(0)"
                                                               (click)="openModalForNewAchievement(newAchievementModal, achievement)">
                                                                    <span class="btn-inner--icon">
                                                                      <i class="fa fa-info-circle mr-2"></i>
                                                                    </span>
                                                                <span class="nav-link-inner--text">Sửa</span>
                                                            </a>
                                                            <a class="btn btn-danger btn-icon btn-sm"
                                                               href="javascript:void(0)"
                                                               (click)="deleteAchievement(achievement.id)">
                                                                    <span class="btn-inner--icon">
                                                                      <i class="fa ni-fat-delete mr-2"></i>
                                                                    </span>
                                                                <span class="nav-link-inner--text">Xóa</span>
                                                            </a>
                                                        </div>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-5 py-5 text-center border-top">
                                <div class="row justify-content-center">
                                    <div class="col-lg-9">
                                        <p>Em xin cam đoan những lời khai trên là đúng sự thật.<br/> Nếu sai em xin chịu
                                            xử lý
                                            theo quy định hiện hành của Nhà trường.</p>
                                        <div class="form-group">
                                            <button class="btn btn-primary" type="submit">Lưu lại</button>
                                            <button *ngIf="canPrintDocument"
                                                    class="btn btn-primary"
                                                    styleSheetFile="../../assets/css/doc.css"
                                                    printSectionId="print-section"
                                                    ngxPrint type="button" (click)="OnPrintDocument()">In phiếu kê khai
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>
<ng-template #newFamilyMember let-c="close" let-d="dismiss">
    <div class="modal-content">
        <div class="modal-body p-0">
            <div class="card bg-secondary shadow border-0">
                <div class="card-header bg-white pb-0">
                    <div class="text-muted text-center">
                        <h3>Thông tin thành viên gia đình</h3>
                    </div>
                </div>
                <div class="card-body px-lg-5 py-lg-5">
                    <div class="text-center text-muted mb-4">
                        <small>Vui lòng điền đầy đủ các thông tin dưới đây</small>
                    </div>
                    <form role="form" name="familyMemberInfoForm" #memberInfoForm="ngForm"
                          (ngSubmit)="memberInfoForm.form.valid && saveFamilyMember()" novalidate>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="MemberLastName">Họ và chữ lót</label>
                                    <input type="text" id="MemberLastName"
                                           class="form-control"
                                           name="MemberLastName"
                                           placeholder="Họ và chữ lót"
                                           [(ngModel)]="newMember.lastName"
                                           #memberLastName="ngModel"
                                           [ngClass]="{ 'is-invalid': memberInfoForm.submitted && memberLastName.invalid }"
                                           required>
                                    <div *ngIf="memberInfoForm.submitted && memberLastName.invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="memberLastName.errors.required">Họ và chữ lót là trường bắt buộc.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="MemberFirstName">Tên</label>
                                    <input type="text" id="MemberFirstName"
                                           class="form-control"
                                           name="MemberFirstName"
                                           placeholder="Tên"
                                           [(ngModel)]="newMember.firstName"
                                           #memberFirstName="ngModel"
                                           [ngClass]="{ 'is-invalid': memberInfoForm.submitted && memberFirstName.invalid }"
                                           required>
                                    <div *ngIf="memberInfoForm.submitted && memberFirstName.invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="memberFirstName.errors.required">Tên là trường bắt buộc.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="MemberRelation">Quan hệ</label>
                                    <select class="form-control"
                                            name="MemberRelation"
                                            id="MemberRelation"
                                            [(ngModel)]="newMember.relationId">
                                        <option *ngFor="let item of library.relationTypeList"
                                                [value]="item.id">{{item.name}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="MemberYearOfBirth">Năm
                                        sinh</label>
                                    <input type="number" id="MemberYearOfBirth"
                                           class="form-control"
                                           name="MemberYearOfBirth"
                                           placeholder="Năm sinh"
                                           [(ngModel)]="newMember.yearOfBirth"
                                           #yearOfBirth="ngModel"
                                           [ngClass]="{ 'is-invalid': memberInfoForm.submitted && yearOfBirth.invalid }"
                                           required>
                                    <div *ngIf="memberInfoForm.submitted && yearOfBirth.invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="yearOfBirth.errors.required">Năm sinh là trường bắt buộc.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="MemberNationality">Quốc
                                        tịch</label>
                                    <select class="form-control"
                                            name="MemberNationality"
                                            id="MemberNationality"
                                            [(ngModel)]="newMember.nationalityId">
                                        <option *ngFor="let item of library.nationalityList"
                                                [value]="item.id">{{item.name}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="MemberEthnic">Dân tộc</label>
                                    <select class="form-control"
                                            name="MemberEthnic"
                                            id="MemberEthnic"
                                            [(ngModel)]="newMember.ethnicId">
                                        <option *ngFor="let item of library.ethnicList"
                                                [value]="item.id">{{item.name}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="MemberReligion">Tôn
                                        giáo</label>
                                    <select class="form-control"
                                            name="MemberReligion"
                                            id="MemberReligion"
                                            [(ngModel)]="newMember.religionId">
                                        <option *ngFor="let item of library.religionList"
                                                [value]="item.id">{{item.name}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="MemberCareerType">Nghề
                                        nghiệp</label>
                                    <select class="form-control"
                                            name="MemberCareerType"
                                            id="MemberCareerType"
                                            [(ngModel)]="newMember.careerTypeId">
                                        <option *ngFor="let item of library.careerTypeList"
                                                [value]="item.id">{{item.name}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="MemberPhoneNumber">Số điện
                                        thoại</label>
                                    <input class="form-control"
                                           name="MemberPhoneNumber" type="text"
                                           id="MemberPhoneNumber"
                                           [(ngModel)]="newMember.phoneNumber"
                                           #memberPhoneNumber="ngModel"
                                           [ngClass]="{ 'is-invalid': memberInfoForm.submitted && memberPhoneNumber.invalid }"
                                           required>
                                    <div *ngIf="memberInfoForm.submitted && memberPhoneNumber.invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="memberPhoneNumber.errors.required">Số điện thoại là trường bắt buộc. </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="MemberEmail">Email</label>
                                    <input class="form-control"
                                           name="MemberEmail" type="text"
                                           id="MemberEmail"
                                           [(ngModel)]="newMember.email"
                                           #memberEmail="ngModel" [ngClass]="{ 'is-invalid': memberInfoForm.submitted && memberEmail.invalid }"
                                           email>
                                    <div *ngIf="memberInfoForm.submitted && memberEmail.invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="memberEmail.errors.email">Email không đúng định dạng. </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="MemberAddress">Địa
                                        chỉ</label>
                                    <input class="form-control"
                                           name="MemberAddress" type="text"
                                           id="MemberAddress"
                                           [(ngModel)]="newMember.address"
                                           #memberAddress="ngModel"
                                           [ngClass]="{ 'is-invalid': memberInfoForm.submitted && memberAddress.invalid }"
                                           required>
                                    <div *ngIf="memberInfoForm.submitted && memberAddress.invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="memberAddress.errors.required">Địa chỉ là trường bắt buộc. </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary my-4">Lưu lại
                            </button>
                            <button type="button" class="btn ml-auto btn-danger"
                                    data-dismiss="modal"
                                    (click)="c('Close click')">Đóng
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</ng-template>
<ng-template #newAchievementModal let-c="close" let-d="dismiss">
    <div class="modal-content">
        <div class="modal-body p-0">
            <div class="card bg-secondary shadow border-0">
                <div class="card-header bg-white pb-0">
                    <div class="text-muted text-center">
                        <h3>Thành tích đạt được</h3>
                    </div>
                </div>
                <div class="card-body px-lg-5 py-lg-5">
                    <div class="text-center text-muted mb-4">
                        <small>Vui lòng điền đầy đủ các thông tin dưới đây
                        </small>
                    </div>
                    <form role="form">
                        <div class="row">
                            <div class="col">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="AchievementTypeId">Kỳ
                                        thi</label>
                                    <select class="form-control"
                                            name="AchievementTypeId"
                                            id="AchievementTypeId"
                                            [(ngModel)]="newAchievement.achievementTypeId">
                                        <option *ngFor="let item of library.achievementTypeList"
                                                [value]="item.id">{{item.name}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="AchievementLevelId">Cấp</label>
                                    <select class="form-control"
                                            name="AchievementLevelId"
                                            id="AchievementLevelId"
                                            [(ngModel)]="newAchievement.achievementLevelId">
                                        <option *ngFor="let item of library.achievementLevelList"
                                                [value]="item.id">{{item.name}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="AchievementPrizeId">Giải
                                        thưởng</label>
                                    <select class="form-control"
                                            name="AchievementPrizeId"
                                            id="AchievementPrizeId"
                                            [(ngModel)]="newAchievement.achievementPrizeId">
                                        <option *ngFor="let item of library.achievementPrizeList"
                                                [value]="item.id">{{item.name}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="form-group">
                                    <label class="form-control-label"
                                           for="Description">Mô tả chi
                                        tiết</label>
                                    <input class="form-control"
                                           name="Description" type="text"
                                           id="Description"
                                           [(ngModel)]="newAchievement.description"/>
                                </div>
                            </div>
                        </div>
                        <div class="text-center">
                            <button type="button" class="btn btn-primary my-4"
                                    (click)="saveAchievement()">Lưu lại
                            </button>
                            <button type="button" class="btn ml-auto btn-danger"
                                    data-dismiss="modal"
                                    (click)="c('Close click')">Đóng
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</ng-template>
<div id="print-section" hidden="hidden" *ngIf="studentInfo"
     style="margin: 0;font-family: 'Times New Roman', sans-serif;font-size: 1rem;font-weight: 400;line-height: 1.5;color: #525f7f;text-align: left;background-color: #fff;">
    <div style="width: 100%; padding-right: 15px; padding-left: 15px;  margin-right: auto;  margin-left: auto;">
        <div class="" style="margin-right: -15px; margin-left: -15px;">
            <div class=""
                 style="position: relative;width: 16.66666667%;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;border: 1px solid black;margin: 20px;height: 200px;align-items: center;display: flex;text-align: center!important">
                <p>Ảnh 4 x 6 (Mới chụp chưa quá 6 tháng)</p>
            </div>
            <div class=""
                 style="text-align: center!important;width: 66.66666667%;float: left;position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;">
                <h3>CỘNG HÒA XÃ HỘI CHỦ NGHĨA VIỆT NAM</h3>
                <h4>Độc lập – Tự do – Hạnh phúc</h4>
                <h2>PHIẾU KÊ KHAI THÔNG TIN SINH VIÊN</h2>
                <h2>KHÓA 2019</h2>
            </div>
            <div style="position: relative;width: 16.66666667%;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;;text-align: center!important"></div>
        </div>
        <div class="" style="margin-right: -15px; margin-left: -15px;">
            <div class=""
                 style="position:relative;min-height:1px;padding-right:15px;padding-left:15px;float:left;width:100%;">
                <div class="" style="margin-right: -15px; margin-left: -15px;">
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                        <div class="" style="text-align: center!important;"><h3><b>I. THÔNG TIN VỀ BẢN THÂN</b>
                        </h3></div>
                    </div>
                </div>
                <div class="" style="margin-right: -15px; margin-left: -15px;">
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 30px;padding-left: 15px;float: left;width: 50%;">
                        Họ và tên: {{studentInfo.lastName + " " + studentInfo.firstName}} </div>
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 30px;float: left;width: 35%;">
                        Giới tính: {{studentInfo.sex ? 'Nam' : 'Nữ'}}</div>
                </div>
                <div class="" style="margin-right: -15px; margin-left: -15px;">
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                        Ngày sinh: {{studentInfo.dateOfBirth | date: "dd/MM/yyyy"}}</div>
                </div>
                <div class="" style="margin-right: -15px; margin-left: -15px;">
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                        Nơi sinh: {{studentInfo.placeOfBirth}}</div>
                </div>
                <div class="" style="margin-right: -15px; margin-left: -15px;">
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 25%;">
                        Quốc tịch: {{getNationalityName(studentInfo.nationalityId)}}</div>
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 25%;">
                        Dân tộc: {{getEthnicName(studentInfo.ethnicId)}}</div>
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 35%;">
                        Tôn giáo: {{getReligionName(studentInfo.religionId)}}</div>
                </div>
                <div class="" style="margin-right: -15px; margin-left: -15px;">
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 25%;">
                        Số CMND: {{studentInfo.identityNumber}}</div>
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 25%;">
                        Ngày cấp: {{studentInfo.dateOfIssue | date: "dd/MM/yyyy"}}</div>
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 35%;">
                        Nơi cấp: {{studentInfo.placeOfIssue}}</div>
                </div>
                <div class="" style="margin-right: -15px; margin-left: -15px;">
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                        Hộ khẩu thường trú: {{studentInfo.permanentResidence}}</div>
                </div>
                <div class="" style="margin-right: -15px; margin-left: -15px;">
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                        Nơi ở hiện tại: {{studentInfo.address}}</div>
                </div>
                <div class="" style="margin-right: -15px; margin-left: -15px;">
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 30px;padding-left: 15px;float: left;width: 50%;">
                        Điện thoại liên hệ: {{studentInfo.phoneNumber}}</div>
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 30px;float: left;width: 35%;">
                        Email: {{studentInfo.email}}</div>
                </div>
            </div>
        </div>
        <div class="" style="margin-right: -15px; margin-left: -15px;">
            <div class=""
                 style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                <div class="row" style="margin-right: -15px; margin-left: -15px;">
                    <div class=""
                         style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                        <div class="" style="text-align: center!important;"><h3><b>II. THÔNG TIN NHÂN THÂN</b>
                        </h3></div>
                    </div>
                </div>
                <div *ngFor="let member of studentInfo.familyMembers">
                    <div class="" style="margin-right: -15px; margin-left: -15px;">
                        <div class=""
                             style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                            <b>{{studentInfo.familyMembers.indexOf(member) + 1}}
                                . {{member.relationName}}</b></div>
                    </div>
                    <div class="" style="margin-right: -15px; margin-left: -15px;">
                        <div class=""
                             style="position: relative;min-height: 1px;padding-right: 30px;padding-left: 15px;float: left;width: 50%;">
                            - Họ và tên: {{member.lastName + " " + member.firstName}}</div>
                        <div class=""
                             style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 30px;float: left;width: 35%;">
                            Năm sinh: {{member.yearOfBirth}}</div>
                    </div>
                    <div class="" style="margin-right: -15px; margin-left: -15px;">
                        <div class=""
                             style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 25%;">
                            - Quốc tịch: {{member.nationalityName}}</div>
                        <div class=""
                             style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 25%;">
                            Dân tộc: {{member.ethnicName}}</div>
                        <div class=""
                             style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 35%;">
                            Tôn giáo: {{member.religionName}}</div>
                    </div>
                    <div class="" style="margin-right: -15px; margin-left: -15px;">
                        <div class=""
                             style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                            - Hộ khẩu thường trú: {{member.address}}</div>
                    </div>
                    <div class="" style="margin-right: -15px; margin-left: -15px;">
                        <div class=""
                             style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                            - Nghề nghiệp: {{member.careerTypeName}}</div>
                    </div>
                    <div class="" style="margin-right: -15px; margin-left: -15px;">
                        <div class=""
                             style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                            - Địa chỉ: {{member.address}}</div>
                    </div>
                    <div class="" style="margin-right: -15px; margin-left: -15px;">
                        <div class=""
                             style="position: relative;min-height: 1px;padding-right: 30px;padding-left: 15px;float: left;width: 50%;">
                            - Điện thoại liên hệ: {{member.phoneNumber}}</div>
                        <div *ngIf="member.email" class=""
                             style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 30px;float: left;width: 35%;">
                            Email: {{member.email}}</div>
                    </div>
                </div>
            </div>
        </div>
        <p style="clear: both;page-break-after: always;"
           *ngIf="studentInfo.familyMembers.length > 2 && studentInfo.familyMembers.length < 6"><!-- pagebreak --></p>
        <div class="" style="margin-right: -15px; margin-left: -15px;">
            <div class=""
                 style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;">
                <p>Trên đây là những thông tin kê khai về em và gia đình. Em xin cam đoan những lời khai trên là đúng sự
                    thật. Nếu sai em xin chịu xử lý
                    theo quy định hiện hành của Nhà trường và pháp luật.</p>
            </div>
        </div>
        <div class="" style="margin-right: -15px; margin-left: -15px;">
            <div class=""
                 style="position: relative;min-height: 1px;padding-right: 30px;padding-left: 15px;float: left;width: 50%;text-align: center!important;">
                <h3><b>Cam đoan của gia đình sinh viên </b></h3></div>
            <div class=""
                 style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 30px;float: left;width: 35%;text-align: center!important;">
                <p>Đà Nẵng, ngày {{date.getDate()}} tháng {{date.getMonth() + 1}} năm {{date.getFullYear()}}</p>
                <h3><b>Sinh viên</b></h3>
                <p><i>(Ký và ghi rõ họ tên)</i></p>
            </div>
        </div>
        <div class="" style="margin-right: -15px; margin-left: -15px;">
            <div class=""
                 style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;float: left;width: 100%;text-align: center!important;margin-top: 4.5rem">
                <h3><b>Xác nhận của chính quyền địa phương nơi sinh viên cư trú</b></h3>
            </div>
        </div>
    </div>
</div>
<!--
<hr class="my-4"/>
<div class="row">
    <div class="col-8 offset-2">
        <div class="h3 text-center mb-4">THÀNH TÍCH HỌC TẬP RÈN LUYỆN</div>
    </div>
    <div class="col-2">
        <button class="btn btn-primary mb-4 btn-add"
                (click)="openModalForNewResult(newLearningResultModal, null)">Thêm
        </button>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="table-responsive">
            <table class="table align-items-center table-bordered table-hover">
                <thead class="thead-light">
                <tr>
                    <th scope="col">Lớp</th>
                    <th scope="col">Xếp loại học lực</th>
                    <th scope="col">Xếp loại hạnh kiểm</th>
                    <th scope="col">Điểm trung bình</th>
                    <th scope="col">Chức năng</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let result of studentInfo.highSchoolResults">
                    <td>
                        {{result.highSchoolYear}}
                    </td>
                    <td>
                        {{result.learningAbilityName}}
                    </td>
                    <td>
                        {{result.conductTypeName}}
                    </td>
                    <td>
                        {{result.gpaScore}}
                    </td>
                    <td class="text-center">
                        <a class="btn btn-primary btn-icon"
                           href="javascript:void(0)"
                           (click)="openModalForNewResult(newLearningResultModal, result)">
                                    <span class="btn-inner--icon">
                                      <i class="fa fa-info-circle mr-2"></i>
                                    </span>
                            <span class="nav-link-inner--text">Sửa</span>
                        </a>
                        <a class="btn btn-danger btn-icon"
                           href="javascript:void(0)"
                           (click)="deleteHighSchoolResult(result.id)">
                                    <span class="btn-inner--icon">
                                      <i class="fa ni-fat-delete mr-2"></i>
                                    </span>
                            <span class="nav-link-inner--text">Xóa</span>
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-4">
        <ng-template #newLearningResultModal let-c="close" let-d="dismiss">
            <div class="modal-content">
                <div class="modal-body p-0">
                    <div class="card bg-secondary shadow border-0">
                        <div class="card-header bg-white pb-0">
                            <div class="text-muted text-center">
                                <h3>Kết quả học tập và rèn luyện</h3>
                            </div>
                        </div>
                        <div class="card-body px-lg-5 py-lg-5">
                            <div class="text-center text-muted mb-4">
                                <small>Vui lòng điền đầy đủ các thông tin dưới đây
                                </small>
                            </div>
                            <form role="form">
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label class="form-control-label"
                                                   for="HightSchoolYearId">Lớp</label>
                                            <select class="form-control"
                                                    name="HightSchoolYearId"
                                                    id="HightSchoolYearId"
                                                    [(ngModel)]="newLearningResult.highSchoolYearId">
                                                <option *ngFor="let item of library.hightSchoolYearList"
                                                        [value]="item.id">{{item.year}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label class="form-control-label"
                                                   for="LearningAbilityId">Xếp loại học
                                                lực</label>
                                            <select class="form-control"
                                                    name="LearningAbilityId"
                                                    id="LearningAbilityId"
                                                    [(ngModel)]="newLearningResult.learningAbilityId">
                                                <option *ngFor="let item of library.learningAbilityList"
                                                        [value]="item.id">{{item.level}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label class="form-control-label"
                                                   for="ConductTypeId">Xếp loại hạnh
                                                kiểm</label>
                                            <select class="form-control"
                                                    name="ConductTypeId"
                                                    id="ConductTypeId"
                                                    [(ngModel)]="newLearningResult.conductTypeId">
                                                <option *ngFor="let item of library.conductTypeList"
                                                        [value]="item.id">{{item.level}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label class="form-control-label"
                                                   for="GPAScore">Điểm trung
                                                bình</label>
                                            <input class="form-control"
                                                   name="GPAScore" type="text"
                                                   id="GPAScore"
                                                   [(ngModel)]="newLearningResult.gpaScore"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-center">
                                    <button type="button" class="btn btn-primary my-4"
                                            (click)="saveLearningResult()">Lưu lại
                                    </button>
                                    <button type="button" class="btn ml-auto btn-danger"
                                            data-dismiss="modal"
                                            (click)="c('Close click')">Đóng
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </ng-template>
    </div>
</div>
-->
